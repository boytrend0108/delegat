import{b as B,_ as v,r as u,o,c as m,e as h,w as S,v as y,p as x,h as k,d as t,L as E,N,I as l,y as V,z as O,K as r,t as M,f as b,n as D,g as f,H,O as P}from"./index-CJPfqmld.js";const T={name:"success-unsubscribe",methods:{...B(["SHOW_DIALOG","SET_SHOW_SUCCESS_FORM"]),handler(){this.$router.push("/")}}},I=e=>(x("data-v-e084e0e7"),e=e(),k(),e),z={class:"successSubscribe"},L=I(()=>t("img",{src:E,alt:"check"},null,-1)),R=I(()=>t("p",{class:"msg"},"Вы успешно отписалить от нашей рассылки!",-1));function W(e,p,c,a,i,s){const _=u("my-blue-btn");return o(),m("div",z,[L,R,h(_,{class:"btn",onClick:s.handler},{default:S(()=>[y("Ок")]),_:1},8,["onClick"])])}const A=v(T,[["render",W],["__scopeId","data-v-e084e0e7"]]),g=e=>(x("data-v-8893c1e8"),e=e(),k(),e),F=g(()=>t("div",{class:"form__title-box"},[t("h2",{class:"form__title"},"Отписаться от рассылки")],-1)),G={class:"input-box form__input-box"},K=g(()=>t("label",{for:"email",class:"input-box__label"},"E-mail",-1)),j={key:0,class:"input-box__error"},q={__name:"UnsubscribePage",setup(e){const p=N(),c=l(""),a=l(!1),i=l(!1);let s=l("");const _=n=>{s.value=P(n)},C=async()=>{a.value=!0;try{await p.dispatch("UNSUBSCRIBE",c.value),a.value=!1,i.value=!0}catch(n){s.value=n,a.value=!1}};return(n,d)=>{const $=u("my-btn"),w=u("my-big-spinner");return i.value?(o(),f(A,{key:1})):(o(),m("form",{key:0,class:"form",id:"login-form",onSubmit:H(C,["prevent"])},[F,t("div",G,[K,V(t("input",{placeholder:"E-mail",autocomplete:"email",class:"input-box__input",type:"email",id:"email",onInput:_,"onUpdate:modelValue":d[0]||(d[0]=U=>c.value=U)},null,544),[[O,c.value,void 0,{trim:!0}]]),r(s)?(o(),m("p",j,M(r(s)),1)):b("",!0)]),h($,{type:"submit",class:D(["form__btn",{form__btn_active:!!r(s)}])},{default:S(()=>[y("Отписаться")]),_:1},8,["class"]),a.value?(o(),f(w,{key:0})):b("",!0)],32))}}},Q=v(q,[["__scopeId","data-v-8893c1e8"]]);export{Q as default};
