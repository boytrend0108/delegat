import{_ as E,V as O,m as R,B as C,b as k,r,o,c as i,g as n,f as l,e as p,w as y,$ as D,F as I,i as V,d as s,p as g,h as w}from"./index-CJPfqmld.js";import{M as B}from"./MyWrongFileFormat-heQpOvM6.js";const F={name:"customer-bills",components:{ValidationErrors:O,MyWrongFileFormat:B},data(){return{note_1:"Специалист ещё не выставил счётa за свои услуги",note_2:"Скачайте счёт, оплатите услуги специалиста по счёту и загрузите платёжку"}},computed:{...R(["DOCS","VALIDATION_ERRORS"]),sortedBills(){debugger;return[...this.DOCS.provider_invoice_check].sort((a,c)=>a.id-c.id)},showError(){if(this.VALIDATION_ERRORS)return!!this.VALIDATION_ERRORS.includes("invoice")}},methods:{...C(["GET_BILLS_FROM_SERVER","GET_PROVIDER_OFFERS"]),...k(["SET_CLEAR_DOCS"])},mounted(){this.GET_BILLS_FROM_SERVER(this.$route.params.id),this.GET_PROVIDER_OFFERS(this.$route.params.id)},unmounted(){this.SET_CLEAR_DOCS()}},A=e=>(g("data-v-dd2cebaa"),e=e(),w(),e),L=A(()=>s("h1",{class:"title"},"Счета",-1)),N={class:"invoice-wr"},T={class:"uploadArea"};function b(e,a,c,G,_,d){const m=r("my-note"),u=r("my-download-item-from-server"),v=r("my-wrong-file-format"),h=r("my-upload-item"),S=r("my-uploaded-item"),f=r("validation-errors");return o(),i("div",null,[L,e.DOCS.provider_invoice_check.length?l("",!0):(o(),n(m,{key:0,note:_.note_1,url:"info_red.svg"},null,8,["note"])),p(D,{name:"list",appear:""},{default:y(()=>[(o(!0),i(I,null,V(d.sortedBills,(M,t)=>(o(),i("div",{class:"uploadCompBox",key:t},[(o(),n(m,{key:0,note:_.note_2,class:"note2"},null,8,["note"])),s("div",N,[(o(),n(u,{key:0,id:"receipt_of_payment",href:"https://docs.google.com/viewer?url=https://static.delegat.online/"+e.DOCS.provider_invoice_check[t].invoice_path,fileName:e.DOCS.provider_invoice_check[t].invoice_name},null,8,["href","fileName"])),s("div",T,[p(v,{id:"invoice"+e.DOCS.provider_invoice_check[t].id},null,8,["id"]),e.DOCS.provider_invoice_check[t].check_path?(o(),n(S,{key:1,name:"Платежка по счету: "+e.DOCS.provider_invoice_check[t].invoice_name,id:"provider_invoice",number:t},null,8,["name","number"])):(o(),n(h,{key:0,id:"invoice",msg:"Загрузить платёжное поручение",class:"uploadFirst",invoice_id:e.DOCS.provider_invoice_check[t].id},null,8,["invoice_id"]))])])]))),128))]),_:1}),d.showError?(o(),n(f,{key:1})):l("",!0)])}const W=E(F,[["render",b],["__scopeId","data-v-dd2cebaa"]]);export{W as default};
