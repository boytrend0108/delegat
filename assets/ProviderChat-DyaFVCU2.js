import{C as l}from"./ChatBox2-DQBrKiGD.js";import{_ as m,m as u,B as E,b as T,r,o,c as i,d as s,g as c,f as _,t as a,e as A,p as D,h as I}from"./index-BhtDRTVm.js";const B={name:"provider-chat",data(){return{innerWidth:window.innerWidth,showPreloader:!1,error:""}},components:{ChatBox2:l},computed:{...u(["USER_BY_ID","AVATAR_BY_ID","CHAT_ID"])},methods:{...E(["GET_AVATAR_BY_ID","GET_USER_BY_ID","GET_CUSTOMER_ORDER_BY_ID","GET_CHAT_ID"]),...T(["SET_CLEAR_DOCS"])},mounted(){this.GET_USER_BY_ID(this.$route.query.guest_id),this.GET_AVATAR_BY_ID(this.$route.query.guest_id),this.GET_CUSTOMER_ORDER_BY_ID(this.$route.params.id),this.CHAT_ID||this.GET_CHAT_ID({order_id:this.$route.params.id,offer_id:this.$route.query.offer_id})},unmounted(){this.SET_CLEAR_DOCS()}},C=e=>(D("data-v-190b9892"),e=e(),I(),e),R={class:"chat_spec"},f=C(()=>s("h1",{class:"visually-hidden"},"Чат с заказчиком",-1)),S={class:"header"},y={class:"wr"},b=["src"],v={class:"titleBox"},Y={class:"title"},g={key:0,class:"hr"},k={key:1,class:"error"};function G(e,n,V,w,t,O){const d=r("my-color-btn"),h=r("my-big-spinner"),p=r("chat-box2");return o(),i("div",R,[f,s("div",S,[s("div",y,[t.innerWidth<600?(o(),c(d,{key:0,class:"btn-back",onClick:n[0]||(n[0]=U=>e.$router.go("-1"))})):_("",!0),s("img",{src:e.AVATAR_BY_ID,alt:"icon",class:"guestIcon"},null,8,b),s("div",v,[s("h2",Y,a(e.USER_BY_ID.full_name),1)])]),t.innerWidth<600?(o(),i("hr",g)):_("",!0)]),t.showPreloader?(o(),c(h,{key:0})):_("",!0),t.error?(o(),i("p",k,a(t.error),1)):_("",!0),A(p)])}const H=m(B,[["render",G],["__scopeId","data-v-190b9892"]]);export{H as default};
