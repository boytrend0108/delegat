import{m as f,b,_ as I,o as n,c as _,d as u,y as x,z as y,n as m,k as T,r as d,t as g,g as h,f as r,e as o,w as R,v as k,p as O,h as L}from"./index-BueGtXLM.js";const N={name:"application-services",data(){return{textInput:"",isTextInputDisabled:!0}},computed:{...f(["SERVICES","COMMENT_FOR_SERVICE","SELECTED_ORDER"])},methods:{...b(["SET_SERVICE","SAVE_INPUT_VALUE","SET_COMMENT_FOR_SERVICE","SET_SERVICES_FOR_SELECTED_ORDER"]),setCheckbox(e){if(e.target.id!=="textInput"){const t=e.target.nextSibling.textContent,l=e.target.checked;this.SET_SERVICE({checked:l,service:t}),this.SET_SERVICES_FOR_SELECTED_ORDER({checked:l,service:t})}},setTextInput(){document.querySelector("#textInput").checked&&this.SET_COMMENT_FOR_SERVICE(this.textInput)}},watch:{isTextInputDisabled(){this.isTextInputDisabled?(this.SET_COMMENT_FOR_SERVICE(""),this.textInput=""):this.SET_COMMENT_FOR_SERVICE(this.textInput),!this.isTextInputDisabled&&!this.textInput&&this.$emit("hideBtn",!0),!this.isTextInputDisabled&&this.textInput&&this.$emit("hideBtn",!1),this.isTextInputDisabled&&this.$emit("hideBtn",!1)},textInput(){!this.isTextInputDisabled&&!this.textInput&&this.$emit("hideBtn",!0),!this.isTextInputDisabled&&this.textInput&&this.$emit("hideBtn",!1)}},mounted(){this.textInput=this.COMMENT_FOR_SERVICE?this.COMMENT_FOR_SERVICE:this.SELECTED_ORDER.comment_for_service;const e=document.querySelector("#textInput");this.COMMENT_FOR_SERVICE||this.SELECTED_ORDER.comment_for_service?(e.checked=!0,this.isTextInputDisabled=!1):this.isTextInputDisabled=!0;const t=document.querySelectorAll(".label"),l=this.SELECTED_ORDER.additional_services;t.forEach(c=>{c.previousSibling.checked=!1}),this.$route.name==="customer-order"?l.forEach(c=>{t.forEach(i=>{i.textContent===c&&(i.previousSibling.checked=!0)})}):this.SERVICES.forEach(c=>{t.forEach(i=>{i.textContent===c&&(i.previousSibling.checked=!0)})})}},P=T('<div class="check" data-v-8fe970e4><input type="checkbox" id="1" class="input" data-v-8fe970e4><label for="1" class="label" data-v-8fe970e4>Логистика</label></div><div class="check" data-v-8fe970e4><input type="checkbox" id="2" class="input" data-v-8fe970e4><label for="2" class="label" data-v-8fe970e4>Таможенное оформление</label></div><div class="check" data-v-8fe970e4><input type="checkbox" id="3" class="input" data-v-8fe970e4><label for="3" class="label" data-v-8fe970e4>Сертификация</label></div><div class="check" data-v-8fe970e4><input type="checkbox" id="4" class="input" data-v-8fe970e4><label for="4" class="label" data-v-8fe970e4>Инспекция товара на фабрике</label></div><div class="check" data-v-8fe970e4><input type="checkbox" id="5" class="input" data-v-8fe970e4><label for="5" class="label" data-v-8fe970e4>Оплата товара поставщику силами исполнителя</label></div><div class="check" data-v-8fe970e4><input type="checkbox" id="6" class="input" data-v-8fe970e4><label for="6" class="label" data-v-8fe970e4>Страхование груза</label></div>',6),V={class:"check"},B=["disabled"];function A(e,t,l,c,i,s){return n(),_("div",{class:"services",onChange:t[4]||(t[4]=(...a)=>s.setCheckbox&&s.setCheckbox(...a))},[P,u("div",V,[u("input",{type:"checkbox",id:"textInput",class:"input",onClick:t[0]||(t[0]=a=>i.isTextInputDisabled=!i.isTextInputDisabled)}),x(u("input",{id:"textInput",type:"text",class:m(["text_input",{disabled:i.isTextInputDisabled}]),placeholder:"Другое","onUpdate:modelValue":t[1]||(t[1]=a=>i.textInput=a),onInput:t[2]||(t[2]=(...a)=>s.setTextInput&&s.setTextInput(...a)),onBlur:t[3]||(t[3]=(...a)=>e.setOther&&e.setOther(...a)),disabled:i.isTextInputDisabled},null,42,B),[[y,i.textInput]])])],32)}const M=I(N,[["render",A],["__scopeId","data-v-8fe970e4"]]),w={name:"application-shipping",computed:{...f(["SHIPPING","SELECTED_ORDER"])},methods:{...b(["SET_SHIPPING","SET_SHIPPING_FOR_SELECTED_ORDER"]),setShipping(e){const t=e.target.nextSibling.textContent;this.SET_SHIPPING(t),this.SET_SHIPPING_FOR_SELECTED_ORDER(t)}},mounted(){debugger;document.querySelectorAll(".radio__lable").forEach(t=>{t.previousSibling.checked=!1,this.$route.name==="customer-new-application"||this.$route.name==="cost-calculation"?this.SHIPPING===t.textContent&&(t.previousSibling.checked=!0):this.SELECTED_ORDER.delivery_type===t.textContent&&(t.previousSibling.checked=!0)})}},F=T('<div class="radio" data-v-b0ef86ba><input type="radio" id="1" class="radio__input" name="radio" autocomplete="off" data-type="medium" data-v-b0ef86ba><label for="1" class="radio__lable" data-v-b0ef86ba>Оптимальный (золотая середина между скоростью и стоимостью)</label></div><div class="radio" data-v-b0ef86ba><input type="radio" id="2" class="radio__input" name="radio" autocomplete="off" data-type="fast" data-v-b0ef86ba><label for="2" class="radio__lable" data-v-b0ef86ba>Быстрый (подходит тем, кому поставка нужна ещё вчера)</label></div><div class="radio" data-v-b0ef86ba><input type="radio" id="3" class="radio__input" name="radio" autocomplete="off" data-type="slow" data-v-b0ef86ba><label for="3" class="radio__lable" data-v-b0ef86ba>Бюджетный (для тех, кто располагает временем)</label></div><div class="radio" data-v-b0ef86ba><input type="radio" id="4" class="radio__input" name="radio" autocomplete="off" data-type="any" data-v-b0ef86ba><label for="4" class="radio__lable" data-v-b0ef86ba>Не имеет значения</label></div>',4),H=[F];function $(e,t,l,c,i,s){return n(),_("section",{class:"shipping",onChange:t[0]||(t[0]=(...a)=>s.setShipping&&s.setShipping(...a))},H,32)}const W=I(w,[["render",$],["__scopeId","data-v-b0ef86ba"]]),U={name:"application-form",components:{ApplicationServices:M,ApplicationShipping:W},data(){return{isInputChanged:!1,isBtnDisabled:!1,hideBnt:!1,validationErrors:[]}},computed:{...f(["TITLE","SELECTED_ID","INPUT_NAME","INPUT","SELECTED_ORDER"]),title(){switch(this.SELECTED_ID){case"country":return this.TITLE.country;case"cities":return this.TITLE.cities;case"naming":return this.TITLE.naming;case"product":return this.TITLE.product;case"additional_services":return this.TITLE.additional_services;case"delivery_type":return this.TITLE.delivery_type;case"info":return this.TITLE.info;case"info1":return this.TITLE.info1;case"info2":return this.TITLE.info2;default:return""}},showToAddress(){if(this.$route.name==="customer-order")return!1;if(this.SELECTED_ID==="cities"&&this.$route.name!=="cost-calculation")return!0},showDateInput(){return!(this.$route.name==="cost-calculation"||this.$route.query.type==="cost")},showParams(){return this.SELECTED_ID==="description"||this.SELECTED_ID==="amount"||this.SELECTED_ID==="gross"||this.SELECTED_ID==="cargo_volume"}},methods:{...b(["SET_INPUT","SHOW_DIALOG","SET_SERVICE","SET_SHIPPING","SWITCH_SHOW_APPLICATION_FORM","SAVE_INPUT_VALUE"]),changeData(){this.SELECTED_ID==="description"&&!this.isInputChanged?(this.SAVE_INPUT_VALUE(this.SELECTED_ORDER.description),this.SET_INPUT(this.$route),this.SHOW_DIALOG()):(this.SET_INPUT(this.$route),this.SHOW_DIALOG(),this.isInputChanged=!1),this.$emit("close_dialog")},setBtnDisabled(e){switch(e.id){case"amount":this.validationErrors[0]=e.status;break;case"gross":this.validationErrors[1]=e.status;break;case"cargo_volume":this.validationErrors[2]=e.status;break}for(let t of this.validationErrors)if(t===!0){this.isBtnDisabled=!0;break}else this.isBtnDisabled=!1},hideBtnFn(e){this.isBtnDisabled=e},closeDialog(){this.SWITCH_SHOW_APPLICATION_FORM(!1),this.SHOW_DIALOG()}},watch:{INPUT(){this.isInputChanged=!0}}},G=e=>(O("data-v-3b0bf3d9"),e=e(),L(),e),q={class:"application-form"},z={class:"application-form__title"},j={class:"application-form__content"},J={key:1,class:"input-wr"},K=G(()=>u("h3",{class:"form__title2"},"Адрес доставки груза",-1)),Q={key:1,class:"params"},X={key:3,class:"info"},Y={key:4,class:"info"};function Z(e,t,l,c,i,s){const a=d("my-input"),p=d("my-info-input"),S=d("application-services"),v=d("my-text-area"),E=d("my-weight-input"),D=d("application-shipping"),C=d("my-btn");return n(),_("div",q,[u("h3",z,g(s.title),1),u("div",j,[this.SELECTED_ID==="country"||this.SELECTED_ID==="cities"||this.SELECTED_ID==="naming"?(n(),h(a,{key:0,class:"selector__input",id:this.SELECTED_ID},null,8,["id"])):r("",!0),s.showToAddress?(n(),_("div",J,[K,o(p,{name:"toAddress"})])):r("",!0),u("div",null,[this.SELECTED_ID==="additional_services"?(n(),h(S,{key:0,onHideBtn:s.hideBtnFn},null,8,["onHideBtn"])):r("",!0),s.showParams?(n(),_("div",Q,[o(v,{class:"textaria-box"}),o(E,{name:"amount",onWrong_data:s.setBtnDisabled},null,8,["onWrong_data"]),o(E,{name:"gross",onWrong_data:s.setBtnDisabled},null,8,["onWrong_data"]),o(E,{name:"cargo_volume",onWrong_data:s.setBtnDisabled},null,8,["onWrong_data"]),s.showDateInput?(n(),h(E,{key:0,name:"date_of_cargo_readiness",type:"date"})):r("",!0)])):r("",!0),this.SELECTED_ID==="delivery_type"?(n(),h(D,{key:2,class:"shipping"})):r("",!0),this.SELECTED_ID==="info1"?(n(),_("div",X,[o(p,{name:"from_city"}),e.$route.query.type!=="cost"?(n(),h(p,{key:0,name:"from_address"})):r("",!0)])):r("",!0),this.SELECTED_ID==="info2"?(n(),_("div",Y,[o(p,{name:"agent_fullname"}),o(p,{name:"agent_phone_number"}),o(p,{name:"agent_email"})])):r("",!0)])]),o(C,{class:m(["application-form__btn",{disabled:i.isBtnDisabled}]),onClick:s.changeData,disabled:i.isBtnDisabled},{default:R(()=>[k(" Coхранить ")]),_:1},8,["onClick","disabled","class"])])}const et=I(U,[["render",Z],["__scopeId","data-v-3b0bf3d9"]]);export{M as A,W as a,et as b};
